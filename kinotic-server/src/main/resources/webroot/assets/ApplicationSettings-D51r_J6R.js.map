{"version":3,"file":"ApplicationSettings-D51r_J6R.js","sources":["../../src/assets/mcp.svg","../../src/pages/ApplicationSettings.vue"],"sourcesContent":["export default \"data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.3498%205.08353C14.9765%204.72017%2014.4761%204.51686%2013.9551%204.51686C13.4341%204.51686%2012.9337%204.72017%2012.5603%205.08353L5.12215%2012.378C4.99768%2012.499%204.83094%2012.5666%204.65736%2012.5666C4.48378%2012.5666%204.31704%2012.499%204.19257%2012.378C4.13163%2012.3187%204.08319%2012.2478%204.05012%2012.1695C4.01704%2012.0912%204%2012.0071%204%2011.9221C4%2011.8371%204.01704%2011.7529%204.05012%2011.6746C4.08319%2011.5963%204.13163%2011.5254%204.19257%2011.4662L11.6307%204.17172C12.2529%203.56622%2013.0869%203.22742%2013.9551%203.22742C14.8233%203.22742%2015.6572%203.56622%2016.2794%204.17172C16.6394%204.52185%2016.9114%204.95224%2017.0731%205.42769C17.2348%205.90314%2017.2817%206.41012%2017.2098%206.90714C17.7134%206.83551%2018.2267%206.88048%2018.7102%207.03856C19.1937%207.19665%2019.6345%207.46363%2019.9985%207.81895L20.0371%207.85758C20.3418%208.15391%2020.584%208.50831%2020.7494%208.89984C20.9148%209.29136%2021%209.71208%2021%2010.1371C21%2010.5621%2020.9148%2010.9828%2020.7494%2011.3744C20.584%2011.7659%2020.3418%2012.1203%2020.0371%2012.4166L13.3099%2019.0133C13.2896%2019.033%2013.2734%2019.0566%2013.2624%2019.0827C13.2514%2019.1088%2013.2457%2019.1368%2013.2457%2019.1651C13.2457%2019.1935%2013.2514%2019.2215%2013.2624%2019.2476C13.2734%2019.2736%2013.2896%2019.2972%2013.3099%2019.317L14.6915%2020.6723C14.7524%2020.7316%2014.8009%2020.8025%2014.8339%2020.8808C14.867%2020.9591%2014.8841%2021.0432%2014.8841%2021.1282C14.8841%2021.2132%2014.867%2021.2974%2014.8339%2021.3757C14.8009%2021.454%2014.7524%2021.5249%2014.6915%2021.5841C14.567%2021.7051%2014.4003%2021.7728%2014.2267%2021.7728C14.0531%2021.7728%2013.8864%2021.7051%2013.7619%2021.5841L12.3803%2020.2296C12.238%2020.0913%2012.1249%2019.9259%2012.0476%2019.7431C11.9704%2019.5603%2011.9306%2019.3639%2011.9306%2019.1655C11.9306%2018.9671%2011.9704%2018.7707%2012.0476%2018.5879C12.1249%2018.4052%2012.238%2018.2398%2012.3803%2018.1015L19.1076%2011.504C19.2903%2011.3262%2019.4355%2011.1135%2019.5347%2010.8786C19.6338%2010.6437%2019.6849%2010.3913%2019.6849%2010.1363C19.6849%209.88134%2019.6338%209.62894%2019.5347%209.39403C19.4355%209.15912%2019.2903%208.94647%2019.1076%208.76862L19.0689%208.73075C18.696%208.36778%2018.1962%208.16448%2017.6758%208.16405C17.1554%208.16362%2016.6553%208.36608%2016.2817%208.72844L10.7398%2014.1637L10.7383%2014.1653L10.6625%2014.2402C10.538%2014.3614%2010.3711%2014.4293%2010.1974%2014.4293C10.0236%2014.4293%209.85669%2014.3614%209.73218%2014.2402C9.67124%2014.181%209.6228%2014.1101%209.58973%2014.0318C9.55665%2013.9535%209.53961%2013.8693%209.53961%2013.7843C9.53961%2013.6993%209.55665%2013.6152%209.58973%2013.5369C9.6228%2013.4586%209.67124%2013.3877%209.73218%2013.3284L15.3522%207.81663C15.5344%207.63866%2015.6791%207.42603%2015.7779%207.19125C15.8766%206.95647%2015.9274%206.7043%2015.9272%206.44959C15.927%206.19489%2015.8758%205.9428%2015.7766%205.70819C15.6775%205.47358%2015.5324%205.26119%2015.3498%205.08353Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.4202%206.90706C14.4812%206.8478%2014.5296%206.77692%2014.5627%206.69861C14.5958%206.6203%2014.6128%206.53616%2014.6128%206.45116C14.6128%206.36615%2014.5958%206.28201%2014.5627%206.2037C14.5296%206.1254%2014.4812%206.05452%2014.4202%205.99525C14.2957%205.87404%2014.1288%205.80621%2013.9551%205.80621C13.7813%205.80621%2013.6144%205.87404%2013.4899%205.99525L7.98893%2011.3904C7.68423%2011.6867%207.44203%2012.0411%207.27665%2012.4326C7.11127%2012.8241%207.02606%2013.2449%207.02606%2013.6699C7.02606%2014.0949%207.11127%2014.5156%207.27665%2014.9071C7.44203%2015.2987%207.68423%2015.6531%207.98893%2015.9494C8.61122%2016.5547%209.44512%2016.8934%2010.3133%2016.8934C11.1814%2016.8934%2012.0153%2016.5547%2012.6376%2015.9494L18.1393%2010.5543C18.2003%2010.495%2018.2487%2010.4241%2018.2818%2010.3458C18.3149%2010.2675%2018.3319%2010.1834%2018.3319%2010.0984C18.3319%2010.0134%2018.3149%209.92923%2018.2818%209.85093C18.2487%209.77262%2018.2003%209.70174%2018.1393%209.64248C18.0148%209.52126%2017.8479%209.45344%2017.6742%209.45344C17.5004%209.45344%2017.3335%209.52126%2017.209%209.64248L11.708%2015.0376C11.3347%2015.4009%2010.8342%2015.6043%2010.3133%2015.6043C9.79228%2015.6043%209.29186%2015.4009%208.9185%2015.0376C8.73578%2014.8597%208.59055%2014.6471%208.49138%2014.4122C8.39221%2014.1773%208.34112%2013.9249%208.34112%2013.6699C8.34112%2013.4149%208.39221%2013.1625%208.49138%2012.9276C8.59055%2012.6927%208.73578%2012.48%208.9185%2012.3022L14.4202%206.90706Z'%20fill='black'/%3e%3c/svg%3e\"","<template>\n  <div class=\"application-settings p-4\">\n    <h1 class=\"text-2xl font-semibold mb-4\">Application Settings</h1>\n\n    <Tabs :value=\"activeTab\" @update:value=\"(value: string | number) => activeTab = Number(value)\">\n      <TabList>\n        <Tab :value=\"0\">General</Tab>\n        <Tab :value=\"1\">Saved widgets</Tab>\n      </TabList>\n      <TabPanels class=\"!p-0\">\n        <TabPanel :value=\"0\">\n          <div v-show=\"activeTab === 0\">\n            <div class=\"max-w-[400px] mx-auto\">\n              <form @submit.prevent=\"saveSettings\" class=\"flex flex-col gap-4\">\n                <div>\n                  <div class=\"mb-5\">\n                    <label class=\"block text-sm text-[#101010] mb-3 font-semibold\">Name</label>\n                    <InputText \n                      v-model=\"appName\" \n                      type=\"text\" \n                      class=\"w-full\" \n                      disabled\n                    />\n                  </div>\n                  <div class=\"mb-5\">\n                    <label class=\"block text-sm text-[#101010] mb-3 font-semibold\">Description</label>\n                    <Textarea \n                      v-model=\"appDescription\" \n                      class=\"w-full h-[100px]\"\n                      rows=\"3\" \n                    />\n                  </div>\n                  <div>\n                    <label class=\"block text-sm text-[#101010] mb-3 font-semibold\">API configuration</label>\n                    <div class=\"border border-[#E6E7EB] rounded-2xl w-full divide-y divide-[#E6E7EB]\">\n                      <div class=\"flex items-center justify-between p-4\">\n                        <div class=\"flex items-center gap-2\">\n                          <img src=\"@/assets/graphql.svg\" />\n                          <span class=\"text-[#3F424D] text-sm font-normal\">GraphQL</span>\n                        </div>\n                        <ToggleButton v-model=\"enableGraphQL\" onLabel=\"On\" offLabel=\"Off\" />\n                      </div>\n                      <div class=\"flex items-center justify-between p-4\">\n                        <div class=\"flex items-center gap-2\">\n                          <img src=\"@/assets/scalar.svg\" />\n                          <span class=\"text-[#3F424D] text-sm font-normal\">OpenAPI</span>\n                        </div>\n                        <ToggleButton v-model=\"enableOpenAPI\" onLabel=\"On\" offLabel=\"Off\" />\n                      </div>\n                      <div class=\"flex items-center justify-between p-4\">\n                        <div class=\"flex items-center gap-2\">\n                          <img src=\"@/assets/mcp.svg\" />\n                          <span class=\"text-[#3F424D] text-sm font-normal\">MCP (Model Context Protocol)</span>\n                        </div>\n                        <ToggleButton v-model=\"enableMCP\" onLabel=\"On\" offLabel=\"Off\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"flex justify-end gap-2 mt-6\">\n                  <Button \n                    type=\"submit\" \n                    :disabled=\"loading\" \n                    severity=\"primary\" \n                    label=\"Save Settings\" \n                  />\n                </div>\n              </form>\n            </div>\n          </div>\n        </TabPanel>\n        <TabPanel :value=\"1\">\n          <div v-show=\"activeTab === 1\">\n            <!-- Loading state -->\n            <div v-if=\"loadingWidgets\" class=\"flex justify-center py-12\">\n              <i class=\"pi pi-spin pi-spinner text-3xl text-primary-500\"></i>\n            </div>\n\n            <!-- Empty state -->\n            <div v-else-if=\"savedWidgets.length === 0\" class=\"text-center py-12\">\n              <div class=\"mb-4\">\n                <i class=\"pi pi-chart-bar text-6xl text-surface-300\"></i>\n              </div>\n              <h3 class=\"text-lg font-semibold text-surface-800 mb-2\">No saved widgets yet</h3>\n              <p class=\"text-surface-500\">\n                Create data insights in the Data Insights page to save widgets here.\n              </p>\n            </div>\n\n            <div v-else class=\"\">\n              <div class=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 py-4\">\n                <div class=\"w-full sm:w-auto flex items-center gap-2\">\n                  <IconField icon-position=\"left\" class=\"w-full sm:w-80\">\n                    <InputIcon class=\"pi pi-search\" />\n                    <InputText \n                      v-model=\"widgetSearchText\" \n                      placeholder=\"Search widgets...\" \n                      class=\"w-full\"\n                    />\n                  </IconField>\n                  <Button \n                    v-if=\"widgetSearchText\"\n                    icon=\"pi pi-times\" \n                    severity=\"secondary\"\n                    text\n                    rounded\n                    @click=\"widgetSearchText = ''\"\n                    aria-label=\"Clear search\"\n                  />\n                </div>\n              </div>\n              \n              <!-- No search results -->\n              <div v-if=\"filteredWidgets.length === 0 && widgetSearchText\" class=\"text-center py-12\">\n                <div class=\"mb-4\">\n                  <i class=\"pi pi-search text-4xl text-surface-300\"></i>\n                </div>\n                <h3 class=\"text-lg font-semibold text-surface-800 mb-2\">No widgets found</h3>\n                <p class=\"text-surface-500\">\n                  No widgets match your search \"{{ widgetSearchText }}\"\n                </p>\n              </div>\n              \n              <!-- Widgets grid -->\n              <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                <SavedWidgetItem\n                  v-for=\"widget in filteredWidgets\"\n                  :key=\"widget.id || 'unknown'\"\n                  :widget=\"widget\"\n                  @delete=\"confirmDelete\"\n                />\n              </div>\n            </div>\n          </div>\n        </TabPanel>\n      </TabPanels>\n    </Tabs>\n\n    <!-- Delete Confirmation Dialog -->\n    <Dialog\n      v-model:visible=\"showDeleteDialog\"\n      modal\n      header=\"Delete Widget\"\n      :style=\"{ width: '450px' }\"\n    >\n      <div class=\"flex items-start gap-3\">\n        <i class=\"pi pi-exclamation-triangle text-3xl text-orange-500\"></i>\n        <div>\n          <p class=\"text-surface-700\">\n            Are you sure you want to delete this widget? This action cannot be undone.\n          </p>\n        </div>\n      </div>\n      <template #footer>\n        <Button\n          label=\"Cancel\"\n          severity=\"secondary\"\n          @click=\"showDeleteDialog = false\"\n        />\n        <Button\n          label=\"Delete\"\n          severity=\"danger\"\n          @click=\"deleteWidget\"\n        />\n      </template>\n    </Dialog>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n// @ts-ignore\nimport { ref, defineProps, onMounted, watch, computed } from 'vue'\nimport { InputText, Textarea, Button, ToggleButton, Tabs, TabList, Tab, TabPanels, TabPanel, Dialog, IconField, InputIcon } from 'primevue'\nimport { APPLICATION_STATE } from '@/states/IApplicationState'\nimport { Structures } from '@kinotic/structures-api'\nimport { useToast } from 'primevue/usetoast'\nimport { DataInsightsWidgetEntityService } from '@/services/DataInsightsWidgetEntityService'\nimport type { DataInsightsWidget } from '@/domain/DataInsightsWidget'\nimport SavedWidgetItem from '@/components/SavedWidgetItem.vue'\n\ndefineProps({\n  applicationId: {\n    type: String,\n    required: true\n  }\n})\n\nconst toast = useToast()\nconst appName = ref('')\nconst appDescription = ref('')\nconst enableGraphQL = ref(false)\nconst enableOpenAPI = ref(false)\nconst enableMCP = ref(false)\nconst loading = ref(false)\nconst activeTab = ref(0)\n\nconst widgetService = new DataInsightsWidgetEntityService()\nconst savedWidgets = ref<DataInsightsWidget[]>([])\nconst loadingWidgets = ref(false)\nconst showDeleteDialog = ref(false)\nconst widgetToDelete = ref<string | null>(null)\nconst widgetSearchText = ref('')\n\nwatch(() => APPLICATION_STATE.currentApplication, (newApp) => {\n  if (newApp) {\n    appName.value = newApp.id || ''\n    appDescription.value = newApp.description || ''\n    enableGraphQL.value = newApp.enableGraphQL || false\n    enableOpenAPI.value = newApp.enableOpenAPI || false\n    enableMCP.value = (newApp as any).enableMCP || false\n  }\n}, { immediate: true })\n\nonMounted(() => {\n  if (APPLICATION_STATE.currentApplication) {\n    const app = APPLICATION_STATE.currentApplication\n    appName.value = app.id || ''\n    appDescription.value = app.description || ''\n    enableGraphQL.value = app.enableGraphQL || false\n    enableOpenAPI.value = app.enableOpenAPI || false\n    enableMCP.value = (app as any).enableMCP || false\n  }\n})\n\nconst saveSettings = async () => {\n  if (!APPLICATION_STATE.currentApplication) {\n    toast.add({\n      severity: 'error',\n      summary: 'Error',\n      detail: 'No application selected',\n      life: 3000\n    })\n    return\n  }\n\n  loading.value = true\n  try {\n    const updatedApplication = {\n      ...APPLICATION_STATE.currentApplication,\n      description: appDescription.value,\n      enableGraphQL: enableGraphQL.value,\n      enableOpenAPI: enableOpenAPI.value,\n      enableMCP: enableMCP.value\n    }\n\n    await Structures.getApplicationService().save(updatedApplication)\n    \n    APPLICATION_STATE.currentApplication = updatedApplication\n\n    toast.add({\n      severity: 'success',\n      summary: 'Success',\n      detail: 'Application settings saved successfully',\n      life: 3000\n    })\n  } catch (error) {\n    toast.add({\n      severity: 'error',\n      summary: 'Error',\n      detail: 'Failed to save application settings',\n      life: 3000\n    })\n  } finally {\n    loading.value = false\n  }\n}\n\nconst loadSavedWidgets = async () => {\n  if (!APPLICATION_STATE.currentApplication?.id) {\n    savedWidgets.value = []\n    return\n  }\n\n  loadingWidgets.value = true\n  try {\n    const widgets = await widgetService.findByApplicationId(APPLICATION_STATE.currentApplication.id)\n    savedWidgets.value = widgets\n  } catch (error) {\n    toast.add({\n      severity: 'error',\n      summary: 'Error',\n      detail: 'Failed to load saved widgets',\n      life: 3000\n    })\n  } finally {\n    loadingWidgets.value = false\n  }\n}\n\nconst confirmDelete = (widgetId: string) => {\n  widgetToDelete.value = widgetId\n  showDeleteDialog.value = true\n}\n\nconst deleteWidget = async () => {\n  if (!widgetToDelete.value) return\n\n  try {\n    await widgetService.deleteById(widgetToDelete.value)\n    savedWidgets.value = savedWidgets.value.filter(w => w.id !== widgetToDelete.value)\n    \n    toast.add({\n      severity: 'success',\n      summary: 'Success',\n      detail: 'Widget deleted successfully',\n      life: 3000\n    })\n  } catch (error) {\n    toast.add({\n      severity: 'error',\n      summary: 'Error',\n      detail: 'Failed to delete widget',\n      life: 3000\n    })\n  } finally {\n    showDeleteDialog.value = false\n    widgetToDelete.value = null\n  }\n}\n\nwatch(activeTab, (newTab) => {\n  if (newTab === 1) {\n    loadSavedWidgets()\n  }\n})\n\nwatch(() => APPLICATION_STATE.currentApplication, () => {\n  if (activeTab.value === 1) {\n    loadSavedWidgets()\n  }\n})\n\nconst filteredWidgets = computed(() => {\n  if (!widgetSearchText.value) return savedWidgets.value\n  \n  const searchLower = widgetSearchText.value.toLowerCase()\n  return savedWidgets.value.filter(widget => {\n    const name = (widget as any).name?.toLowerCase() || ''\n    const description = (widget as any).description?.toLowerCase() || ''\n    const widgetType = (widget as any).widgetType?.toLowerCase() || ''\n      \n    try {\n      const config = JSON.parse((widget as any).config || '{}')\n      const aiTitle = config.aiTitle?.toLowerCase() || ''\n      const aiSubtitle = config.aiSubtitle?.toLowerCase() || ''\n      \n      return name.includes(searchLower) || \n             description.includes(searchLower) || \n             widgetType.includes(searchLower) ||\n             aiTitle.includes(searchLower) ||\n             aiSubtitle.includes(searchLower)\n    } catch {\n      return name.includes(searchLower) || \n             description.includes(searchLower) || \n             widgetType.includes(searchLower)\n    }\n  })\n})\n</script>\n"],"names":["_imports_2","toast","useToast","appName","ref","appDescription","enableGraphQL","enableOpenAPI","enableMCP","loading","activeTab","widgetService","DataInsightsWidgetEntityService","savedWidgets","loadingWidgets","showDeleteDialog","widgetToDelete","widgetSearchText","watch","APPLICATION_STATE","newApp","onMounted","app","saveSettings","updatedApplication","Structures","loadSavedWidgets","_a","widgets","confirmDelete","widgetId","deleteWidget","w","newTab","filteredWidgets","computed","searchLower","widget","name","description","_b","widgetType","_c","config","aiTitle","_d","aiSubtitle","_e","_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","_createVNode","_unref","Tabs","value","TabList","Tab","TabPanels","TabPanel","_hoisted_2","_hoisted_3","InputText","$event","_hoisted_4","Textarea","_hoisted_5","_hoisted_6","_imports_0","ToggleButton","_hoisted_7","_imports_1","_hoisted_8","_hoisted_9","Button","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","IconField","InputIcon","_createBlock","_hoisted_15","_hoisted_16","_toDisplayString","_hoisted_17","_Fragment","_renderList","SavedWidgetItem","Dialog"],"mappings":"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"}
import{j as F,d as R}from"./index-D4TKg6Qf.js";function h(n){throw`facing-metadata: ${n}`}var O=function(n,t,e,o){if(e==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?o:e==="a"?o.call(n):o?o.value:t.get(n)},b,g;class G{constructor(t=Symbol("faple-metadata")){b.add(this),this.symbol=t}create(t,e){Object.getOwnPropertyDescriptor(t,this.symbol)&&h("Target had metadata"),Object.defineProperty(t,this.symbol,{enumerable:!1,configurable:!1,writable:!1,value:e})}getOwn(t){const e=Object.getOwnPropertyDescriptor(t,this.symbol);if(e)return e.value}get(t){let e;return O(this,b,"m",g).call(this,t,(o,r)=>(e=r,!1)),e}getAll(t){let e=[];return O(this,b,"m",g).call(this,t,(o,r)=>(e.push(r),!0)),e}setValueOwn(t,e,o){const r=this.getOwn(t);r||h("Target has not metadata"),r[e]=o}setValue(t,e,o){const r=this.get(t);r||h("Target has not metadata"),r[e]=o}getValueOwn(t,e){const o=this.getOwn(t);return o===void 0&&h("Target has not metadata"),o[e]}getValue(t,e){let o=!1,r;return O(this,b,"m",g).call(this,t,(s,a)=>(o=!0,!(e in a)||a[e]===void 0?!0:(r=a[e],!1))),o||h("Target has not metadata"),r}}b=new WeakSet,g=function(t,e){let o=t;do{const r=this.getOwn(o);if(r!==void 0&&!e(t,r))break;o=Object.getPrototypeOf(o)}while(o!==null)};const H=Symbol("vue-facing-decorator-slot");class U{constructor(t){Object.defineProperty(this,"master",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"names",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"inComponent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cachedVueComponent",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.master=t}obtainMap(t){let e=this.getMap(t);return e||(e=new Map,this.names.set(t,e)),e}getMap(t){return this.names.get(t)}}const V=new G(H);function K(n,t){if(w(n))throw"";t&&(t.master=n);const e=t??new U(n);return V.create(n,e),e}function w(n){return V.getOwn(n)}function p(n,t){const e=w(n);return e||K(n,t)}const y={};function D(n){return function(t,e){var o;if(e){if(e.kind!=="class")throw"deco stage 3 class";const r=(o=y.fakePrototype)!==null&&o!==void 0?o:y.fakePrototype={},s=p(r);return delete y.fakePrototype,p(t.prototype,s),n(t)}else return n(t)}}function C(n){return function(t,e){var o;if(typeof e=="object"){const r=e,s=t,a=(o=y.fakePrototype)!==null&&o!==void 0?o:y.fakePrototype={};return a[r.name]=s,n(a,r.name)}else return n(t,e)}}const W=class{};function j(n){const t=Object.getPrototypeOf(n);return t instanceof W?t:null}function P(n){const t=[];let e=n;do t.unshift(e),e=j(e);while(e!==null&&!w(e));return t}function z(n){let t=j(n);for(;t!==null;){const e=w(t);if(e)return e;t=j(t)}return null}function N(n,t,e){return n.filter(o=>{let r=t;for(;r!=null;){for(const s of r.names.keys()){if(s==="customDecorator"){const i=r.obtainMap("customDecorator");if(i.has(o)&&i.get(o).every(c=>!c.preserve))return!1}if(e&&e.includes(s))continue;if(r.names.get(s).has(o))return!1}r=z(r.master)}return!0})}function k(n,t){const e=Object.getOwnPropertyDescriptors(n);return Object.keys(e).filter(o=>t(e[o],o))}function S(n){return typeof n=="function"?n:function(){return n||{}}}function $(n){function t(e,o){if(o){const r=e;C(function(s,a){n(s,a)})(r,o)}else{const r=e;return C(function(s,a){n(s,a,r)})}}return t}function q(n){function t(e,o){if(typeof e=="function"){const r=e;D(function(s){n(s)})(r,o)}else{const r=e;return D(function(s){n(s,r)})}}return t}const x=n=>n instanceof Promise;function I(n,t){const o=p(n.prototype).getMap("setup");if(!o||o.size===0)return;const r=function(s,a){const i={};let c=null;for(const u of o.keys()){const l=o.get(u).setupFunction(s,a);x(l)?(c??(c=[]),c.push(l.then(f=>{i[u]=f}))):i[u]=l}return Array.isArray(c)?Promise.all(c).then(()=>i):i};t.setup=r}function J(n,t){var e;(e=t.computed)!==null&&e!==void 0||(t.computed={});const o=p(n.prototype),r=o.obtainMap("computed"),s=o.obtainMap("vanilla");P(n.prototype).forEach(i=>{k(i,(c,u)=>(typeof c.get=="function"||typeof c.set=="function")&&!s.has(u)).forEach(c=>{r.set(c,!0);const u=Object.getOwnPropertyDescriptor(i,c);t.computed[c]={get:typeof u.get=="function"?u.get:void 0,set:typeof u.set=="function"?u.set:void 0}})})}function L(n,t){var e;(e=t.data)!==null&&e!==void 0||(t.data={});const o=new n;let r=k(o,(a,i)=>{var c,u;return!!a.enumerable&&!(!((c=t.methods)===null||c===void 0)&&c[i])&&!(!((u=t.props)===null||u===void 0)&&u[i])});const s=p(n.prototype);r=N(r,s,["provide","customDecorator"]),Object.assign(t.data,r.reduce((a,i)=>(a[i]=o[i],a),{}))}const Q=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","renderTracked","renderTriggered","errorCaptured","serverPrefetch","render"];function X(n,t){var e,o,r;const s=p(n.prototype),a=P(n.prototype),i=s.obtainMap("hooks");(e=t.hooks)!==null&&e!==void 0||(t.hooks={}),(o=t.methods)!==null&&o!==void 0||(t.methods={});const c={},u={};a.forEach(f=>{let d=k(f,(m,v)=>typeof m.value=="function"&&v!=="constructor");d=N(d,s,["watch","hooks","emits","provide","customDecorator"]),d.forEach(m=>{Q.includes(m)||i.has(m)?c[m]=f[m]:u[m]=f[m]})}),Object.assign(t.methods,u);const l=[...(r=t.beforeCreateCallbacks)!==null&&r!==void 0?r:[]];if(l&&l.length>0){const f=c.beforeCreate;c.beforeCreate=function(){l.forEach(d=>d.apply(this,arguments)),f&&f.apply(this,arguments)}}Object.assign(t.hooks,c)}function T(n,t){var e;(e=n.beforeCreateCallbacks)!==null&&e!==void 0||(n.beforeCreateCallbacks=[]),n.beforeCreateCallbacks.push(function(){const o=this;t(o).forEach((s,a)=>{Object.defineProperty(o,a,s)})})}const lt=$(function(n,t,e){p(n).obtainMap("ref").set(t,typeof e>"u"?null:e)});function Y(n,t){const o=p(n.prototype).getMap("ref");!o||o.size===0||T(t,r=>{const s=new Map;return o.forEach((a,i)=>{const c=a===null?i:a;s.set(i,{get:function(){return r.$refs[c]},set:void 0})}),s})}function ft(n,t){return C(function(e,o){const s=p(e).obtainMap("watch"),a=Object.assign({},t??{},{key:n,handler:e[o]});if(s.has(o)){const i=s.get(o);Array.isArray(i)?i.push(a):s.set(o,[i,a])}else s.set(o,a)})}function Z(n,t){var e;(e=t.watch)!==null&&e!==void 0||(t.watch={});const r=p(n.prototype).getMap("watch");!r||r.size===0||r.forEach((s,a)=>{(Array.isArray(s)?s:[s]).forEach(c=>{if(!t.watch[c.key])t.watch[c.key]=c;else{const u=t.watch[c.key];Array.isArray(u)?u.push(c):t.watch[c.key]=[u,c]}})})}const pt=$(function(n,t,e){const r=p(n).obtainMap("props"),s=Object.assign({},e??{});r.set(t,s)});function B(n,t){var e;(e=t.props)!==null&&e!==void 0||(t.props={});const r=p(n.prototype).getMap("props");!r||r.size===0||r.forEach((s,a)=>{t.props[a]=s})}function tt(n,t){var e;(e=t.inject)!==null&&e!==void 0||(t.inject={});const r=p(n.prototype).getMap("inject");!r||r.size===0||r.forEach((s,a)=>{t.inject[a]=s})}function et(n,t,e){var o;(o=t.provide)!==null&&o!==void 0||(t.provide={});const s=p(n.prototype).obtainMap("provide");if(!s)return null;s.forEach((a,i)=>{const c=a===null?i:a;t.provide[c]=F(()=>e[i])})}var nt=function(n,t,e,o){function r(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function i(l){try{u(o.next(l))}catch(f){a(f)}}function c(l){try{u(o.throw(l))}catch(f){a(f)}}function u(l){l.done?s(l.value):r(l.value).then(i,c)}u((o=o.apply(n,t||[])).next())})};const dt=$(function(n,t,e){p(n).obtainMap("emit").set(t,typeof e>"u"?null:e)});function ot(n,t){var e;(e=t.methods)!==null&&e!==void 0||(t.methods={});const o=n.prototype,r=p(o),s=r.getMap("emit");if(!s||s.size===0)return;const a=r.obtainMap("emits");s.forEach((i,c)=>{const u=i===null?c:i;a.set(u,!0),t.methods[c]=function(){return nt(this,arguments,void 0,function*(){const l=o[c].apply(this,arguments);if(l instanceof Promise){const f=yield l;this.$emit(u,f)}else l===void 0?this.$emit(u):this.$emit(u,l)})}})}function rt(n,t){var e;(e=t.computed)!==null&&e!==void 0||(t.computed={});const o=p(n.prototype),r=o.getMap("v-model");if(!r||r.size===0)return;const s=o.obtainMap("emits");r.forEach((a,i)=>{var c;const u=(c=a&&a.name)!==null&&c!==void 0?c:"modelValue",l=`update:${u}`;t.computed[i]={get:function(){return this[u]},set:function(f){this.$emit(l,f)}},s.set(l,!0)})}function st(n,t){const o=p(n.prototype).getMap("vanilla");if(!o||o.size===0)return;const r=P(n.prototype),s=new Map;T(t,a=>(r.forEach(i=>{const c=Object.getOwnPropertyDescriptors(i);for(const u in c){const l=c[u];l&&o.has(u)&&(typeof l.get=="function"||typeof l.set=="function")&&s.set(u,{set:typeof l.set=="function"?l.set.bind(a):void 0,get:typeof l.get=="function"?l.get.bind(a):void 0})}}),s))}function at(n,t){const e={};return I(n,e),rt(n,e),J(n,e),Z(n,e),B(n,e),tt(n,e),ot(n,e),Y(n,e),st(n,e),X(n,e),Object.assign(Object.assign({name:n.name,setup:e.setup,data(){var r;return delete e.data,L(n,e),(r=e.data)!==null&&r!==void 0?r:{}},methods:e.methods,computed:e.computed,watch:e.watch,props:e.props,inject:e.inject,provide(){var r;return et(n,e,this),(r=e.provide)!==null&&r!==void 0?r:{}}},e.hooks),{extends:t})}function ct(n,t,e){var o,r;const s=at(n,e),a=p(n.prototype);Object.keys(t).reduce((f,d)=>(["options","modifier","methods","emits","setup","provide"].includes(d)||(f[d]=t[d]),f),s);let i=Array.from(a.obtainMap("emits").keys());if(Array.isArray(t.emits)&&(i=Array.from(new Set([...i,...t.emits]))),s.emits=i,typeof t.methods=="object"&&!Array.isArray(t.methods)&&t.methods!==null&&((o=s.methods)!==null&&o!==void 0||(s.methods={}),Object.assign(s.methods,t.methods)),!s.setup)s.setup=t.setup;else{const f=s.setup,d=(r=t.setup)!==null&&r!==void 0?r:function(){return{}},m=function(v,A){const _=d(v,A),M=f(v,A);return M instanceof Promise||_ instanceof Promise?Promise.all([_,M]).then(E=>Object.assign({},E[0],E[1])):Object.assign({},_,M)};s.setup=m}const c=S(s.provide),u=S(t.provide);s.provide=function(){return Object.assign({},c.call(this),u.call(this))};const l=a.getMap("customDecorator");return l&&l.size>0&&l.forEach(f=>{f.forEach(d=>d.creator.apply({},[s,d.key]))}),t.options&&Object.assign(s,t.options),t.modifier&&t.modifier(s),R(s)}function it(n,t){const e=p(n.prototype);e.inComponent=!0;const o=z(n.prototype);if(o){if(!o.inComponent)throw"Class should be decorated by Component or ComponentBase: "+e.master;if(o.cachedVueComponent===null)throw"Component decorator 1"}const r=ct(n,t,o===null?void 0:o.cachedVueComponent);r.__vfdConstructor=n,e.cachedVueComponent=r,n.__vccOpts=r}const mt=q((n,t)=>{it(n,t??{})});function ht(n){const t=p(n.prototype);if(!t.inComponent)throw"to native 1";const e=t.cachedVueComponent;if(!e)throw"to native 2";return e}export{W as B,mt as C,lt as a,ft as b,dt as c,pt as d,ht as t};
//# sourceMappingURL=component-CWCFeeTt.js.map

var l=Object.defineProperty;var h=(e,s,t)=>s in e?l(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var o=(e,s,t)=>h(e,typeof s!="symbol"?s+"":s,t);import{I,J as c,K as g,L as u,N as m,M as f}from"./index-BAuc_XpL.js";var C=Object.defineProperty,v=Object.getOwnPropertyDescriptor,p=(e,s,t,a)=>{for(var n=a>1?void 0:a?v(s,t):s,d=e.length-1,r;d>=0;d--)(r=e[d])&&(n=(a?r(s,t,n):r(n))||n);return a&&n&&C(s,t,n),n};let i=class{constructor(){o(this,"id",null);o(this,"applicationId");o(this,"dataInsightsComponent");o(this,"dashboardId");o(this,"created");o(this,"updated")}};p([g],i.prototype,"id",2);p([u],i.prototype,"dataInsightsComponent",2);i=p([I(c.SHARED)],i);class D extends m{constructor(t=!0,a){super("structures__system","DataInsightsWidget",a);o(this,"shouldValidate");this.shouldValidate=t}async beforeSaveOrUpdate(t){return this.shouldValidate?this.validate(t):t}async beforeBulkSaveOrUpdate(t){if(this.shouldValidate){const a=[];for(let n of t)a.push(this.validate(n));return a}else return t}validate(t){let a;return t&&(a=a||{},a.id=t.id,a.applicationId=t.applicationId,t.dataInsightsComponent&&(a.dataInsightsComponent=a.dataInsightsComponent?a.dataInsightsComponent:{},a.dataInsightsComponent.id=t.dataInsightsComponent.id,a.dataInsightsComponent.name=t.dataInsightsComponent.name,a.dataInsightsComponent.description=t.dataInsightsComponent.description,a.dataInsightsComponent.modifiedAt=t.dataInsightsComponent.modifiedAt,a.dataInsightsComponent.rawHtml=t.dataInsightsComponent.rawHtml,a.dataInsightsComponent.applicationId=t.dataInsightsComponent.applicationId,a.dataInsightsComponent.supportsDateRangeFiltering=t.dataInsightsComponent.supportsDateRangeFiltering),a.dashboardId=t.dashboardId,a.created=t.created,a.updated=t.updated),a}}class O extends D{constructor(s){super(!1,s)}async findByApplicationId(s){const t=f.create(0,1e3),a=await this.findAll(t);return a.content?a.content.filter(d=>d.applicationId===s):[]}}export{O as D,i as a};
//# sourceMappingURL=DataInsightsWidgetEntityService-Bo06B8sr.js.map

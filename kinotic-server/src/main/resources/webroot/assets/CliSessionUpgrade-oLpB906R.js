var h=Object.defineProperty;var x=(o,e,t)=>e in o?h(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var r=(o,e,t)=>x(o,typeof e!="symbol"?e+"":e,t);import{B as b,d as v,C as y}from"./component-CLWqUams.js";import{av as m,U as p,_,c as l,a as s,k as S,t as f,o as d}from"./index-BAuc_XpL.js";import{_ as w,a as C,b as I}from"./login-page-logo-Br8q2n4G.js";class k{constructor(e,t){r(this,"sessionId");r(this,"replyToId");this.sessionId=e,this.replyToId=t}}class A{constructor(){r(this,"serviceProxy");this.serviceProxy=m.serviceProxy("continuum.cli.SessionUpgradeService")}async upgradeSession(e,t){await this.serviceProxy.invoke("upgradeSession",[t],e)}}const E=new A;var B=Object.defineProperty,P=Object.getOwnPropertyDescriptor,g=(o,e,t,i)=>{for(var n=i>1?void 0:i?P(e,t):e,a=o.length-1,u;a>=0;a--)(u=o[a])&&(n=(i?u(e,t,n):u(n))||n);return i&&n&&B(e,t,n),n};let c=class extends b{constructor(){super(...arguments);r(this,"id");r(this,"loading",!1);r(this,"authenticated",!1);r(this,"title","Authenticating");r(this,"message","Connecting CLI to Continuum...")}async mounted(){var i;const t=this.$route.params.id;if(t)if((i=p.connectedInfo)!=null&&i.sessionId){this.loading=!0;try{const n=decodeURIComponent(t);await E.upgradeSession(n,new k(p.connectedInfo.sessionId,p.connectedInfo.replyToId))}catch(n){this.setStatus("Error connecting CLI to Continuum: "+n,!1,!1)}finally{this.setStatus("You can close this tab and return to your command line.",!0,!1),await m.disconnect(!0),this.loading=!1}}else this.setStatus("Error connecting CLI to Continuum: No session found.",!1,!1);else this.setStatus("Error connecting CLI to Continuum: No upgrade id provided.",!1,!1)}setStatus(t,i,n){this.title=n?"Authenticating":i?"Authentication Successful":"Authentication Failed",this.message=t,this.authenticated=i,this.loading=n}};g([v({type:String,required:!1,default:null})],c.prototype,"id",2);c=g([y({components:{}})],c);const j={class:"flex w-full justify-center items-center h-screen mx-auto"},U={class:"w-1/2 h-full flex flex-col justify-center items-center bg-center bg-cover relative"},D={class:"flex flex-col items-center"},$={class:"text-center"},L={class:"w-[64px] h-[64px] mx-auto mb-6 flex items-center justify-center bg-green-50 border-2 border-green-200 rounded-full"},T={key:0,class:"w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},N={key:1,class:"w-16 h-16 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O={class:"text-4xl font-semibold text-gray-800 mb-4"},M={class:"text-base text-gray-600"},R={key:0,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75"};function F(o,e,t,i,n,a){return d(),l("div",j,[e[5]||(e[5]=s("div",{class:"relative w-1/2 h-full bg-gradient-to-br from-[#0A0A0B] from-0% via-[#0A0A0B] via-70% to-[#293A9E] to-100% hidden md:block"},[s("img",{src:w,class:"absolute right-0 bottom-0 h-screen"}),s("img",{src:C,class:"absolute left-[75px] bottom-[56px] h-[63px] w-auto xl:h-[63px] lg:h-[52px] md:max-w-[200px] md:h-[42px] sm:max-w-[150px] sm:h-[32px]"})],-1)),s("div",U,[s("div",D,[e[3]||(e[3]=s("img",{src:I,class:"w-[218px] h-[45px] mb-[53px]"},null,-1)),s("div",$,[s("div",L,[o.authenticated?(d(),l("svg",T,e[0]||(e[0]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):(d(),l("svg",N,e[1]||(e[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])))]),s("h2",O,f(o.title),1),s("p",M,f(o.message),1)]),o.loading?(d(),l("div",R,e[2]||(e[2]=[s("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600"},null,-1)]))):S("",!0)]),e[4]||(e[4]=s("div",{class:"flex gap-2 absolute bottom-8 left-0 right-0 justify-center"},[s("a",{href:"#",class:"text-[#0568FD] border-b-1"}," Terms of use "),s("span",{class:"text-gray-400"}," | "),s("span",{class:"text-[#0568FD] border-b-1"}," Privacy policy ")],-1))])])}const H=_(c,[["render",F]]);export{H as default};
//# sourceMappingURL=CliSessionUpgrade-oLpB906R.js.map

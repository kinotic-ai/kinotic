var ve=Object.defineProperty;var be=(t,e,a)=>e in t?ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var p=(t,e,a)=>be(t,typeof e!="symbol"?e+"":e,a);import{a0 as fe,c as u,o as l,a as o,X as h,O as ke,P as Ce,a2 as Oe,Y as T,ad as Ee,aa as Pe,ab as Se,ac as Ie,ae as x,af as Le,r as oe,e as c,f as E,k as f,b as ne,ai as le,t as v,w as S,T as De,bx as w,g as B,u as Me,by as Te,bz as de,bA as D,bB as ge,_ as xe,bC as $e,B as ue,D as $,aj as ce}from"./index-BAuc_XpL.js";import{O as Ae,C as Re}from"./index-AFbNaqJX.js";import{s as U,a as Be}from"./index-Bz44qjX7.js";import{s as Ue}from"./index-D9EM4B1w.js";import{s as me}from"./index-d3RWyEKF.js";import{B as ze,C as Ve}from"./component-CLWqUams.js";import{_ as je,a as Ne,b as Fe}from"./login-page-logo-Br8q2n4G.js";var ye={name:"EyeIcon",extends:fe};function qe(t,e,a,r,s,i){return l(),u("svg",h({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z",fill:"currentColor"},null,-1)]),16)}ye.render=qe;var we={name:"EyeSlashIcon",extends:fe};function Ke(t,e,a,r,s,i){return l(),u("svg",h({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z",fill:"currentColor"},null,-1)]),16)}we.render=Ke;var Ze=ke`
    .p-password {
        display: inline-flex;
        position: relative;
    }

    .p-password .p-password-overlay {
        min-width: 100%;
    }

    .p-password-meter {
        height: dt('password.meter.height');
        background: dt('password.meter.background');
        border-radius: dt('password.meter.border.radius');
    }

    .p-password-meter-label {
        height: 100%;
        width: 0;
        transition: width 1s ease-in-out;
        border-radius: dt('password.meter.border.radius');
    }

    .p-password-meter-weak {
        background: dt('password.strength.weak.background');
    }

    .p-password-meter-medium {
        background: dt('password.strength.medium.background');
    }

    .p-password-meter-strong {
        background: dt('password.strength.strong.background');
    }

    .p-password-fluid {
        display: flex;
    }

    .p-password-fluid .p-password-input {
        width: 100%;
    }

    .p-password-input::-ms-reveal,
    .p-password-input::-ms-clear {
        display: none;
    }

    .p-password-overlay {
        padding: dt('password.overlay.padding');
        background: dt('password.overlay.background');
        color: dt('password.overlay.color');
        border: 1px solid dt('password.overlay.border.color');
        box-shadow: dt('password.overlay.shadow');
        border-radius: dt('password.overlay.border.radius');
    }

    .p-password-content {
        display: flex;
        flex-direction: column;
        gap: dt('password.content.gap');
    }

    .p-password-toggle-mask-icon {
        inset-inline-end: dt('form.field.padding.x');
        color: dt('password.icon.color');
        position: absolute;
        top: 50%;
        margin-top: calc(-1 * calc(dt('icon.size') / 2));
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-password:has(.p-password-toggle-mask-icon) .p-password-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }
`,He={root:function(e){var a=e.props;return{position:a.appendTo==="self"?"relative":void 0}}},_e={root:function(e){var a=e.instance;return["p-password p-component p-inputwrapper",{"p-inputwrapper-filled":a.$filled,"p-inputwrapper-focus":a.focused,"p-password-fluid":a.$fluid}]},pcInputText:"p-password-input",maskIcon:"p-password-toggle-mask-icon p-password-mask-icon",unmaskIcon:"p-password-toggle-mask-icon p-password-unmask-icon",overlay:"p-password-overlay p-component",content:"p-password-content",meter:"p-password-meter",meterLabel:function(e){var a=e.instance;return"p-password-meter-label ".concat(a.meter?"p-password-meter-"+a.meter.strength:"")},meterText:"p-password-meter-text"},Je=Ce.extend({name:"password",style:Ze,classes:_e,inlineStyles:He}),We={name:"BasePassword",extends:Be,props:{promptLabel:{type:String,default:null},mediumRegex:{type:[String,RegExp],default:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"},strongRegex:{type:[String,RegExp],default:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"},weakLabel:{type:String,default:null},mediumLabel:{type:String,default:null},strongLabel:{type:String,default:null},feedback:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},toggleMask:{type:Boolean,default:!1},hideIcon:{type:String,default:void 0},maskIcon:{type:String,default:void 0},showIcon:{type:String,default:void 0},unmaskIcon:{type:String,default:void 0},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelId:{type:String,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},overlayId:{type:String,default:null},overlayClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayProps:{type:null,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null},autofocus:{type:Boolean,default:null}},style:Je,provide:function(){return{$pcPassword:this,$parentInstance:this}}};function I(t){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(t)}function he(t,e,a){return(e=Ye(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Ye(t){var e=Ge(t,"string");return I(e)=="symbol"?e:e+""}function Ge(t,e){if(I(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(I(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z={name:"Password",extends:We,inheritAttrs:!1,emits:["change","focus","blur","invalid"],inject:{$pcFluid:{default:null}},data:function(){return{overlayVisible:!1,meter:null,infoText:null,focused:!1,unmasked:!1}},mediumCheckRegExp:null,strongCheckRegExp:null,resizeListener:null,scrollHandler:null,overlay:null,mounted:function(){this.infoText=this.promptText,this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex)},beforeUnmount:function(){this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(x.clear(this.overlay),this.overlay=null)},methods:{onOverlayEnter:function(e){x.set("overlay",e,this.$primevue.config.zIndex.overlay),Le(e,{position:"absolute",top:"0"}),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener(),this.$attrSelector&&e.setAttribute(this.$attrSelector,"")},onOverlayLeave:function(){this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null},onOverlayAfterLeave:function(e){x.clear(e)},alignOverlay:function(){this.appendTo==="self"?Pe(this.overlay,this.$refs.input.$el):(this.overlay.style.minWidth=Se(this.$refs.input.$el)+"px",Ie(this.overlay,this.$refs.input.$el))},testStrength:function(e){var a=0;return this.strongCheckRegExp.test(e)?a=3:this.mediumCheckRegExp.test(e)?a=2:e.length&&(a=1),a},onInput:function(e){this.writeValue(e.target.value,e),this.$emit("change",e)},onFocus:function(e){this.focused=!0,this.feedback&&(this.setPasswordMeter(this.d_value),this.overlayVisible=!0),this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.$emit("blur",e)},onKeyUp:function(e){if(this.feedback){var a=e.target.value,r=this.checkPasswordStrength(a),s=r.meter,i=r.label;if(this.meter=s,this.infoText=i,e.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}},setPasswordMeter:function(){if(!this.d_value){this.meter=null,this.infoText=this.promptText;return}var e=this.checkPasswordStrength(this.d_value),a=e.meter,r=e.label;this.meter=a,this.infoText=r,this.overlayVisible||(this.overlayVisible=!0)},checkPasswordStrength:function(e){var a=null,r=null;switch(this.testStrength(e)){case 1:a=this.weakText,r={strength:"weak",width:"33.33%"};break;case 2:a=this.mediumText,r={strength:"medium",width:"66.66%"};break;case 3:a=this.strongText,r={strength:"strong",width:"100%"};break;default:a=this.promptText,r=null;break}return{label:a,meter:r}},onInvalid:function(e){this.$emit("invalid",e)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Re(this.$refs.input.$el,function(){e.overlayVisible&&(e.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Ee()&&(e.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},overlayRef:function(e){this.overlay=e},onMaskToggle:function(){this.unmasked=!this.unmasked},onOverlayClick:function(e){Ae.emit("overlay-click",{originalEvent:e,target:this.$el})}},computed:{inputType:function(){return this.unmasked?"text":"password"},weakText:function(){return this.weakLabel||this.$primevue.config.locale.weak},mediumText:function(){return this.mediumLabel||this.$primevue.config.locale.medium},strongText:function(){return this.strongLabel||this.$primevue.config.locale.strong},promptText:function(){return this.promptLabel||this.$primevue.config.locale.passwordPrompt},overlayUniqueId:function(){return this.$id+"_overlay"},containerDataP:function(){return T({fluid:this.$fluid})},meterDataP:function(){var e,a;return T(he({},(e=this.meter)===null||e===void 0?void 0:e.strength,(a=this.meter)===null||a===void 0?void 0:a.strength))},overlayDataP:function(){return T(he({},"portal-"+this.appendTo,"portal-"+this.appendTo))}},components:{InputText:U,Portal:Oe,EyeSlashIcon:we,EyeIcon:ye}};function L(t){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(t)}function pe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,r)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?pe(Object(a),!0).forEach(function(r){Qe(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Qe(t,e,a){return(e=Xe(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Xe(t){var e=et(t,"string");return L(e)=="symbol"?e:e+""}function et(t,e){if(L(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(L(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tt=["data-p"],at=["id","data-p"],rt=["data-p"];function st(t,e,a,r,s,i){var n=oe("InputText"),m=oe("Portal");return l(),u("div",h({class:t.cx("root"),style:t.sx("root"),"data-p":i.containerDataP},t.ptmi("root")),[c(n,h({ref:"input",id:t.inputId,type:i.inputType,class:[t.cx("pcInputText"),t.inputClass],style:t.inputStyle,defaultValue:t.d_value,name:t.$formName,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-controls":t.overlayProps&&t.overlayProps.id||t.overlayId||t.panelProps&&t.panelProps.id||t.panelId||i.overlayUniqueId,"aria-haspopup":!0,placeholder:t.placeholder,required:t.required,fluid:t.fluid,disabled:t.disabled,variant:t.variant,invalid:t.invalid,size:t.size,autofocus:t.autofocus,onInput:i.onInput,onFocus:i.onFocus,onBlur:i.onBlur,onKeyup:i.onKeyUp,onInvalid:i.onInvalid},t.inputProps,{"data-p-has-e-icon":t.toggleMask,pt:t.ptm("pcInputText"),unstyled:t.unstyled,formControl:{novalidate:!0}}),null,16,["id","type","class","style","defaultValue","name","aria-labelledby","aria-label","aria-controls","placeholder","required","fluid","disabled","variant","invalid","size","autofocus","onInput","onFocus","onBlur","onKeyup","onInvalid","data-p-has-e-icon","pt","unstyled"]),t.toggleMask&&s.unmasked?E(t.$slots,t.$slots.maskicon?"maskicon":"hideicon",h({key:0,toggleCallback:i.onMaskToggle,class:[t.cx("maskIcon"),t.maskIcon]},t.ptm("maskIcon")),function(){return[(l(),ne(le(t.maskIcon?"i":"EyeSlashIcon"),h({class:[t.cx("maskIcon"),t.maskIcon],onClick:i.onMaskToggle},t.ptm("maskIcon")),null,16,["class","onClick"]))]}):f("",!0),t.toggleMask&&!s.unmasked?E(t.$slots,t.$slots.unmaskicon?"unmaskicon":"showicon",h({key:1,toggleCallback:i.onMaskToggle,class:[t.cx("unmaskIcon")]},t.ptm("unmaskIcon")),function(){return[(l(),ne(le(t.unmaskIcon?"i":"EyeIcon"),h({class:[t.cx("unmaskIcon"),t.unmaskIcon],onClick:i.onMaskToggle},t.ptm("unmaskIcon")),null,16,["class","onClick"]))]}):f("",!0),o("span",h({class:"p-hidden-accessible","aria-live":"polite"},t.ptm("hiddenAccesible"),{"data-p-hidden-accessible":!0}),v(s.infoText),17),c(m,{appendTo:t.appendTo},{default:S(function(){return[c(De,h({name:"p-connected-overlay",onEnter:i.onOverlayEnter,onLeave:i.onOverlayLeave,onAfterLeave:i.onOverlayAfterLeave},t.ptm("transition")),{default:S(function(){return[s.overlayVisible?(l(),u("div",h({key:0,ref:i.overlayRef,id:t.overlayId||t.panelId||i.overlayUniqueId,class:[t.cx("overlay"),t.panelClass,t.overlayClass],style:[t.overlayStyle,t.panelStyle],onClick:e[0]||(e[0]=function(){return i.onOverlayClick&&i.onOverlayClick.apply(i,arguments)}),"data-p":i.overlayDataP,role:"dialog","aria-live":"polite"},A(A(A({},t.panelProps),t.overlayProps),t.ptm("overlay"))),[E(t.$slots,"header"),E(t.$slots,"content",{},function(){return[o("div",h({class:t.cx("content")},t.ptm("content")),[o("div",h({class:t.cx("meter")},t.ptm("meter")),[o("div",h({class:t.cx("meterLabel"),style:{width:s.meter?s.meter.width:""},"data-p":i.meterDataP},t.ptm("meterLabel")),null,16,rt)],16),o("div",h({class:t.cx("meterText")},t.ptm("meterText")),v(s.infoText),17)],16)]}),E(t.$slots,"footer")],16,at)):f("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,tt)}z.render=st;const P=B("authentication-manager");class it{constructor(){p(this,"enabledProviders",new Set);p(this,"basicAuthEnabled",!1);p(this,"configLoaded",!1);this.loadConfiguration()}async loadConfiguration(){try{this.basicAuthEnabled=await w.isBasicAuthEnabled();const e=await w.getEnabledOidcProviders();this.enabledProviders.clear();for(const a of e)this.enabledProviders.add(a.provider);this.configLoaded=!0}catch(e){P("Failed to load configuration: %O",e),this.basicAuthEnabled=!0,this.configLoaded=!0}}isConfigLoaded(){return this.configLoaded}isBasicAuthEnabled(){return this.basicAuthEnabled}hasEnabledOidcProviders(){return this.enabledProviders.size>0}async findProviderByDomain(e){try{const a=await w.findProviderByEmailDomain(e);return(a==null?void 0:a.provider)||null}catch(a){return P("Failed to find OIDC config for domain %s: %O",e,a),null}}async getProviderDisplayName(e){try{const a=await w.getOidcProviderByName(e);return(a==null?void 0:a.displayName)||e}catch(a){return P("Failed to get display name for provider %s: %O",e,a),e}}getProviderIcon(e){return{okta:"@/assets/okta-icon.svg",keycloak:"@/assets/keycloak-icon.svg",google:"@/assets/google-icon.svg",microsoft:"@/assets/microsoft_online-icon.svg",microsoftSocial:"@/assets/microsoft_online-icon.svg",github:"@/assets/github-icon.svg",apple:"@/assets/apple-logo.svg"}[e]||"@/assets/input-hide.svg"}async determineAuthMethod(e){if(!await w.isOidcEnabled())return{shouldUseOidc:!1,matchedProvider:null,providerDisplayName:"",fallbackToBasicAuth:!0};const r=await this.findProviderByDomain(e);if(r){const s=await this.getProviderDisplayName(r);return{shouldUseOidc:!0,matchedProvider:r,providerDisplayName:s,fallbackToBasicAuth:!1}}else return{shouldUseOidc:!0,matchedProvider:null,providerDisplayName:"",fallbackToBasicAuth:!0}}parseOidcError(e,a){const r=a?decodeURIComponent(a):"";let s="OIDC login failed",i=!1;return e==="invalid_request"?r.includes("AADSTS50194")?s="Microsoft Azure configuration error: Application is not configured as multi-tenant. Please contact your administrator.":r.includes("redirect_uri_mismatch")?s="OIDC configuration error: Redirect URI mismatch. Please contact your administrator.":(s=`OIDC configuration error: ${r}`,i=!0):e==="access_denied"?(s="Access denied by OIDC provider. Please try again or contact your administrator.",i=!0):e==="unauthorized_client"?(s="OIDC client not authorized. Please contact your administrator.",i=!0):e==="unsupported_response_type"?s="OIDC response type not supported. Please contact your administrator.":e==="server_error"?(s="OIDC server error. Please try again later.",i=!0):e==="temporarily_unavailable"?(s="OIDC service temporarily unavailable. Please try again later.",i=!0):r&&(s=`OIDC login failed: ${r}`,i=!0),{userMessage:s,isRetryable:i,error:{error:e,description:r}}}createInitialState(){return{emailEntered:!1,showPassword:!1,matchedProvider:null,providerDisplayName:"",showRetryOption:!1,showErrorDetails:!1,loading:!1,oidcCallbackLoading:!1,password:"",authenticationSuccess:!1}}resetToEmail(e){return{...e,emailEntered:!1,showPassword:!1,matchedProvider:null,providerDisplayName:"",showRetryOption:!1,showErrorDetails:!1,password:"",authenticationSuccess:!1}}resetToPassword(e,a,r){return{...e,emailEntered:!0,showPassword:!0,matchedProvider:a,providerDisplayName:r,showRetryOption:!1,showErrorDetails:!1}}showProviderSelection(e,a,r){return{...e,emailEntered:!0,showPassword:!1,matchedProvider:a,providerDisplayName:r,showRetryOption:!1,showErrorDetails:!1}}showRetryOption(e){return{...e,showRetryOption:!0,showErrorDetails:!1,loading:!1,oidcCallbackLoading:!1}}clearRetryOption(e){return{...e,showRetryOption:!1,showErrorDetails:!1}}toggleErrorDetails(e){return{...e,showErrorDetails:!e.showErrorDetails}}setLoading(e,a){return{...e,loading:a}}setOidcCallbackLoading(e,a){return{...e,oidcCallbackLoading:a}}clearOidcState(){const e=[];for(let a=0;a<localStorage.length;a++){const r=localStorage.key(a);r&&r.startsWith("oidc.")&&e.push(r)}e.forEach(a=>localStorage.removeItem(a))}createOidcState(e,a){const s=btoa(JSON.stringify({referer:e,provider:a})),i=`oidc.${s}`,n={data:s,timestamp:Date.now()};return localStorage.setItem(i,JSON.stringify(n)),s}parseOidcState(e){try{const a=`oidc.${e}`,r=localStorage.getItem(a);if(r){const s=JSON.parse(r);if(Date.now()-s.timestamp>24*60*60*1e3)throw P("OIDC state has expired"),localStorage.removeItem(a),new Error("OIDC state has expired");const n=JSON.parse(atob(s.data));return localStorage.removeItem(a),{referer:n.referer||null,provider:n.provider||"keycloak"}}}catch(a){P("Failed to parse OIDC state: %O",a)}return null}}const y=B("authentication-service");class ot{constructor(){p(this,"authManager",null);p(this,"_state");p(this,"_login","");p(this,"_password","");p(this,"_currentOidcError",null);this._state={emailEntered:!1,showPassword:!1,matchedProvider:null,providerDisplayName:"",showRetryOption:!1,showErrorDetails:!1,loading:!1,oidcCallbackLoading:!1,password:"",authenticationSuccess:!1}}async getAuthManager(){return this.authManager||(this.authManager=new it,await this.authManager.loadConfiguration()),this.authManager}get state(){return this._state}get login(){return this._login}set login(e){this._login=e}get password(){return this._password}set password(e){this._password=e}get currentOidcError(){return this._currentOidcError}get shouldShowLoginForm(){return!this._state.oidcCallbackLoading}get isLoginValid(){return!!this._login}get isPasswordValid(){return!!this._password}async isConfigLoaded(){try{return(await this.getAuthManager()).isConfigLoaded()}catch(e){return y("Failed to get config status: %O",e),!1}}async isBasicAuthEnabled(){try{return(await this.getAuthManager()).isBasicAuthEnabled()}catch(e){return y("Failed to check basic auth: %O",e),!0}}async hasEnabledOidcProviders(){try{return(await this.getAuthManager()).hasEnabledOidcProviders()}catch(e){return y("Failed to check OIDC providers: %O",e),!1}}updateState(e){y("updateState: %O",e),this._state={...this._state,...e}}resetToEmail(){if(this.authManager){const e=this.authManager.resetToEmail(this._state);this.updateState(e)}else this.updateState({emailEntered:!1,showPassword:!1,matchedProvider:null,providerDisplayName:"",showRetryOption:!1,showErrorDetails:!1,authenticationSuccess:!1});this._password="",this._currentOidcError=null}resetToPassword(e,a){if(y("resetToPassword: provider=%s, displayName=%s",e,a),this.authManager){const r=this.authManager.resetToPassword(this._state,e,a);this.updateState(r)}else this.updateState({emailEntered:!0,showPassword:!0,matchedProvider:e,providerDisplayName:a,showRetryOption:!1,showErrorDetails:!1})}showProviderSelection(e,a){if(this.authManager){const r=this.authManager.showProviderSelection(this._state,e,a);this.updateState(r)}else this.updateState({emailEntered:!0,showPassword:!1,matchedProvider:e,providerDisplayName:a,showRetryOption:!1,showErrorDetails:!1})}showRetryOption(e){if(this.authManager){const a=this.authManager.showRetryOption(this._state);this.updateState(a)}else this.updateState({showRetryOption:!0,showErrorDetails:!1,loading:!1,oidcCallbackLoading:!1});this._currentOidcError=e}clearRetryOption(){if(this.authManager){const e=this.authManager.clearRetryOption(this._state);this.updateState(e)}else this.updateState({showRetryOption:!1,showErrorDetails:!1});this._currentOidcError=null}toggleErrorDetails(){if(this.authManager){const e=this.authManager.toggleErrorDetails(this._state);this.updateState(e)}else this.updateState({showErrorDetails:!this._state.showErrorDetails})}setLoading(e){if(this.authManager){const a=this.authManager.setLoading(this._state,e);this.updateState(a)}else this.updateState({loading:e})}setOidcCallbackLoading(e){if(this.authManager){const a=this.authManager.setOidcCallbackLoading(this._state,e);this.updateState(a)}else this.updateState({oidcCallbackLoading:e})}async determineAuthMethod(e){return await(await this.getAuthManager()).determineAuthMethod(e)}async findProviderByDomain(e){return await(await this.getAuthManager()).findProviderByDomain(e)}async getProviderDisplayName(e){return await(await this.getAuthManager()).getProviderDisplayName(e)}getProviderIcon(e){return this.authManager?this.authManager.getProviderIcon(e):{okta:"@/assets/okta-icon.svg",keycloak:"@/assets/keycloak-icon.svg",google:"@/assets/google-icon.svg",microsoft:"@/assets/microsoft_online-icon.svg",microsoftSocial:"@/assets/microsoft_online-icon.svg",github:"@/assets/github-icon.svg",apple:"@/assets/apple-logo.svg"}[e]||"@/assets/input-hide.svg"}async parseOidcError(e,a){return(await this.getAuthManager()).parseOidcError(e,a)}clearOidcState(){if(this.authManager)this.authManager.clearOidcState();else{const e=[];for(let a=0;a<localStorage.length;a++){const r=localStorage.key(a);r&&r.startsWith("oidc.")&&e.push(r)}e.forEach(a=>localStorage.removeItem(a))}}async createOidcState(e,a){return(await this.getAuthManager()).createOidcState(e,a)}async parseOidcState(e){return(await this.getAuthManager()).parseOidcState(e)}createInitialState(){return{emailEntered:!1,showPassword:!1,matchedProvider:null,providerDisplayName:"",showRetryOption:!1,showErrorDetails:!1,loading:!1,oidcCallbackLoading:!1,password:"",authenticationSuccess:!1}}clearForm(){this._login="",this._password="",this.resetToEmail()}resetAfterError(){this.clearRetryOption(),this._currentOidcError=null,this.clearOidcState()}async checkBasicAuthEnabled(){try{return await w.isBasicAuthEnabled()}catch(e){return y("Failed to check basic auth: %O",e),!0}}async checkOidcEnabled(){try{return await w.isOidcEnabled()}catch(e){return y("Failed to check OIDC: %O",e),!1}}async isDebugEnabled(){try{return await w.isDebugEnabled()}catch(e){return y("Failed to check debug mode: %O",e),!1}}}var nt=Object.getOwnPropertyDescriptor,lt=(t,e,a,r)=>{for(var s=r>1?void 0:r?nt(e,a):e,i=t.length-1,n;i>=0;i--)(n=t[i])&&(s=n(s)||s);return s};const d=B("login");let R=class extends ze{constructor(){super(...arguments);p(this,"auth",new ot);p(this,"_isConfigLoaded",!1);p(this,"_isBasicAuthEnabled",!0);p(this,"toast",Me());p(this,"userState",Te.getUserState())}get login(){return this.auth.login}set login(a){this.auth.login=a}get password(){return this.auth.password}set password(a){this.auth.password=a}get state(){return this.auth.state}get shouldShowLoginForm(){return this.auth.shouldShowLoginForm}get isLoginValid(){return this.auth.isLoginValid}get isPasswordValid(){return this.auth.isPasswordValid}get currentOidcError(){return this.auth.currentOidcError}get showPassword(){return this.state.showPassword}set showPassword(a){this.auth.updateState({showPassword:a})}get isInitialized(){return!0}get isConfigLoaded(){return this._isConfigLoaded}get isBasicAuthEnabled(){return this._isBasicAuthEnabled}async isDebugMode(){try{return await this.auth.isDebugEnabled()}catch{return!1}}async mounted(){this.$nextTick(()=>{this.focusEmailInput()}),await this.loadConfig();const a=this.getOidcCallbackParams();if(a.error){await this.handleOidcError();return}await this.isDebugMode()&&console.log(`ðŸš€ [MOUNTED] oidcParams: ${JSON.stringify(a)}`),a.code&&a.state?(await this.isDebugMode()&&d("OIDC callback detected - code: %s, state: %s",this.$route.query.code,this.$route.query.state),await this.handleOidcCallback()):await this.isDebugMode()&&d("No OIDC callback - code: %s, state: %s",!!this.$route.query.code,!!this.$route.query.state)}async loadConfig(){try{this._isBasicAuthEnabled=await this.auth.checkBasicAuthEnabled(),this._isConfigLoaded=!0}catch(a){d("Failed to load basic config: %O",a),this._isBasicAuthEnabled=!0,this._isConfigLoaded=!1}}focusEmailInput(){var a,r,s,i;this.$refs.emailInput&&((r=(a=this.$refs.emailInput.$el)==null?void 0:a.focus)!=null&&r.call(a)||((i=(s=this.$refs.emailInput).focus)==null||i.call(s)))}focusPasswordInput(){var a,r;if(this.$refs.passwordInput){const s=this.$refs.passwordInput,i=((a=s.$el)==null?void 0:a.querySelector('input[type="password"]'))||((r=s.$el)==null?void 0:r.querySelector("input"));i&&i.focus()}}get referer(){const a=this.$route.query.referer;return typeof a=="string"?a:null}getOidcCallbackParams(){const a=new URLSearchParams(window.location.search);return{code:a.get("code")||this.$route.query.code,state:a.get("state")||this.$route.query.state,error:a.get("error")||this.$route.query.error,errorDescription:a.get("error_description")||this.$route.query.error_description}}cleanupOidcUrlParams(){if(window.location.search&&window.history.replaceState){const a=window.location.origin+window.location.pathname+window.location.hash;window.history.replaceState({},document.title,a)}}async handleOidcError(){this.auth.setLoading(!1),this.auth.setOidcCallbackLoading(!1);const a=this.getOidcCallbackParams(),r=a.error||"",s=a.errorDescription||"",{userMessage:i,isRetryable:n,error:m}=await this.auth.parseOidcError(r,s);this.displayAlert(i),this.cleanupOidcUrlParams(),n?(this.auth.showRetryOption(m),this.auth.updateState({emailEntered:!0,showPassword:!1})):this.auth.resetToEmail()}async handleOidcCallback(){const a=await this.isDebugMode(),r=this.getOidcCallbackParams();a&&d("OIDC callback handling started - route query: %O",this.$route.query),this.auth.setOidcCallbackLoading(!0);try{const s=this.$route.query.state;a&&d("Parsing state from URL: %s",s);let i=null;const n=s.split(";")??[];if(a&&d("State tokens: %O",n),n.length<2)throw d("Invalid state format - expected at least 2 tokens, got: %d",n.length),new Error(`Invalid OIDC state: ${s}`);const m=n[1]??"";if(i=await this.auth.parseOidcState(m),a&&d("Parsed state info: %O",i),!i)throw d("Failed to parse state info from localStorage"),new Error("Invalid OIDC state");const{referer:b,provider:C}=i;a&&d("Using provider: %s, referer: %s",C,b);const M=await de(C);a&&d("User manager created");const k=await M.signinRedirectCallback();a&&d("Signin callback successful - user: %O, access_token: %s",k.profile,k.access_token?"present":"missing"),await this.userState.handleOidcLogin(k,C),a&&d("OIDC login handled successfully"),this.cleanupOidcUrlParams();const O=b||"/applications";a&&d("Redirecting to: %s",O),await D.navigate(O)}catch(s){d("OIDC callback error: %O",s),a&&d("Error details: %O",{message:s instanceof Error?s.message:"Unknown error",stack:s instanceof Error?s.stack:void 0,windowLocationSearch:window.location.search,oidcParams:r}),s instanceof Error?this.displayAlert(`OIDC callback failed: ${s.message}`):this.displayAlert("OIDC callback failed"),this.cleanupOidcUrlParams(),this.auth.resetToEmail()}finally{a&&d("Cleaning up callback loading state"),this.auth.setOidcCallbackLoading(!1),this.auth.setLoading(!1)}}async handleLogin(){var a;if(!this.isLoginValid||!this.isPasswordValid){this.displayAlert("Login and Password are required");return}this.auth.setLoading(!0);try{if(await this.userState.authenticate(this.login,this.password),this.referer)await D.navigate(this.referer);else{const r=(a=this.$route.redirectedFrom)==null?void 0:a.fullPath;r&&r!=="/"?await D.navigate(r):await D.navigate("/applications")}}catch(r){d("Authentication error: %O",r),r instanceof Error?this.displayAlert(r.message):typeof r=="string"?this.displayAlert(r):this.displayAlert("Unknown login error"),this.auth.resetToEmail()}finally{this.auth.setLoading(!1)}}hideAlert(){this.toast.removeAllGroups()}displayAlert(a){this.toast.add({severity:"error",summary:"Error",detail:a,life:3e4})}async handleEmailSubmit(){if(!this.isLoginValid){this.displayAlert("Please enter a valid email address");return}this.auth.setLoading(!0);try{const a=await this.auth.determineAuthMethod(this.login);if(a.shouldUseOidc&&a.matchedProvider){await this.handleOidcLogin(a.matchedProvider);return}else this.auth.updateState({emailEntered:!0,showPassword:!0,matchedProvider:null,providerDisplayName:"",showRetryOption:!1,showErrorDetails:!1});this.$nextTick(()=>{this.focusPasswordInput()})}catch(a){d("Error in email submit: %O",a),this.displayAlert("Error processing email. Please try again.")}finally{this.auth.setLoading(!1)}}getProviderIcon(a){return this.auth.getProviderIcon(a)}resetToEmail(){this.auth.resetToEmail(),this.$nextTick(()=>{this.focusEmailInput()})}retryOidcLogin(){this.auth.clearRetryOption(),this.clearUrlErrorParams(),this.state.matchedProvider&&this.login?this.handleOidcLogin(this.state.matchedProvider):this.auth.resetToEmail()}usePasswordInstead(){this.auth.clearRetryOption(),this.auth.updateState({emailEntered:!0,showPassword:!0,matchedProvider:null,providerDisplayName:"",showRetryOption:!1,showErrorDetails:!1}),this.clearUrlErrorParams(),this.$nextTick(()=>{this.focusPasswordInput()})}goBackToEmail(){this.auth.resetToEmail(),this.clearUrlErrorParams(),this.$nextTick(()=>{this.focusEmailInput()})}clearErrorAndReset(){this.auth.resetAfterError(),this.clearUrlErrorParams(),this.$nextTick(()=>{this.focusEmailInput()})}toggleErrorDetails(){this.auth.toggleErrorDetails()}clearUrlErrorParams(){if(this.$route.query.error||this.$route.query.error_description){const a={...this.$route.query};delete a.error,delete a.error_description,this.$router.replace({query:a})}}async handleOidcLogin(a){try{const r=await de(a),i={url_state:await this.auth.createOidcState(this.referer,a)};if(this.login){i.login_hint=this.login;const n=this.login.split("@")[1];n&&(i.domain_hint=n)}await r.signinRedirect(i)}catch(r){this.displayAlert(`OIDC login failed: ${r instanceof Error?r.message:"Unknown error"}`),this.auth.resetToEmail()}}};R=lt([Ve({components:{InputText:U,Password:z,Button:me,Toast:ge}})],R);const dt={class:"flex w-full justify-center items-center h-screen mx-auto"},ut={key:0,class:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50"},ct={class:"w-1/2 h-full flex flex-col justify-center items-center bg-center bg-cover relative"},ht={class:"w-[320px] flex flex-col items-center"},pt={key:0},ft={key:0,class:"w-full mb-6 p-4 border border-red-200 bg-red-50 rounded-lg"},gt={class:"text-center"},mt={class:"mb-4"},yt={key:0,class:"mt-3 p-3 bg-red-100 border border-red-200 rounded text-left"},wt={class:"text-xs text-red-700 font-mono"},vt={key:0,class:"mt-1"},bt={class:"flex flex-wrap gap-2 justify-center"},kt={key:1,class:"w-full"},Ct={key:2,class:"w-full"},Ot={key:0,class:"w-full"},Et={class:"text-xl font-semibold text-gray-800 mb-6 text-center"},Pt=["src"],St={key:0},It={key:1,class:"flex items-center"},Lt={class:"text-center"},Dt={key:1,class:"w-full"},Mt={key:2,class:"w-full text-center"},Tt={key:1,class:"w-full text-center"};function xt(t,e,a,r,s,i){var k,O,V,j,N,F,q,K,Z,H,_,J,W,Y,G,Q,X,ee,te,ae,re,se;const n=me,m=U,b=Ue,C=z,M=ge;return l(),u("div",dt,[t.isInitialized&&((k=t.state)!=null&&k.oidcCallbackLoading)?(l(),u("div",ut,e[6]||(e[6]=[o("div",{class:"text-center"},[o("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),o("h2",{class:"text-xl font-semibold text-gray-800 mb-2"},"Validating Login..."),o("p",{class:"text-gray-600"},"Please wait while we complete your authentication.")],-1)]))):f("",!0),e[16]||(e[16]=o("div",{class:"relative w-1/2 h-full bg-gradient-to-br from-[#0A0A0B] from-0% via-[#0A0A0B] via-70% to-[#293A9E] to-100% hidden md:block"},[o("img",{src:je,class:"absolute right-0 bottom-0 h-screen"}),o("img",{src:Ne,class:"absolute left-[75px] bottom-[56px] max-w-[300px] h-[63px] w-auto xl:max-w-[300px] xl:h-[63px] lg:max-w-[250px] lg:h-[52px] md:max-w-[200px] md:h-[42px] sm:max-w-[150px] sm:h-[32px]"})],-1)),o("div",ct,[o("div",ht,[e[14]||(e[14]=o("img",{src:Fe,class:"w-[218px] h-[45px] mb-[53px]"},null,-1)),t.isInitialized&&t.shouldShowLoginForm?(l(),u("div",pt,[(O=t.state)!=null&&O.showRetryOption?(l(),u("div",ft,[o("div",gt,[e[10]||(e[10]=$e('<div class="flex items-center justify-center mb-3"><svg class="w-5 h-5 text-red-600 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p class="text-red-700 font-medium">OIDC login encountered an error</p></div><p class="text-red-600 mb-4 text-sm">You can try again or use an alternative login method:</p>',2)),o("div",mt,[o("button",{onClick:e[0]||(e[0]=(...g)=>t.toggleErrorDetails&&t.toggleErrorDetails(...g)),class:"text-red-600 hover:text-red-800 text-sm underline flex items-center mx-auto"},[o("span",null,v((V=t.state)!=null&&V.showErrorDetails?"Hide":"Show")+" error details",1),(l(),u("svg",{class:ue(["w-4 h-4 ml-1 transition-transform",{"rotate-180":(j=t.state)==null?void 0:j.showErrorDetails}]),fill:"currentColor",viewBox:"0 0 20 20"},e[7]||(e[7]=[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),(N=t.state)!=null&&N.showErrorDetails&&t.currentOidcError?(l(),u("div",yt,[o("div",wt,[o("div",null,[e[8]||(e[8]=o("strong",null,"Error:",-1)),$(" "+v(t.currentOidcError.error),1)]),t.currentOidcError.description?(l(),u("div",vt,[e[9]||(e[9]=o("strong",null,"Description:",-1)),$(" "+v(t.currentOidcError.description),1)])):f("",!0)])])):f("",!0)]),o("div",bt,[c(n,{label:"Try OIDC Again",class:"rounded-[10px] max-h-[40px] !py-2 !px-4 !text-sm bg-blue-600 hover:bg-blue-700",onClick:t.retryOidcLogin},null,8,["onClick"]),c(n,{label:"Use Password Instead",class:"rounded-[10px] max-h-[40px] !py-2 !px-4 !text-sm bg-gray-600 hover:bg-gray-700",onClick:t.usePasswordInstead},null,8,["onClick"]),c(n,{label:"Back to Email",class:"rounded-[10px] max-h-[40px] !py-2 !px-4 !text-sm bg-gray-500 hover:bg-gray-600",onClick:t.goBackToEmail},null,8,["onClick"]),c(n,{label:"Clear Error",class:"rounded-[10px] max-h-[40px] !py-2 !px-4 !text-sm bg-red-600 hover:bg-blue-700",onClick:t.clearErrorAndReset},null,8,["onClick"])])])])):f("",!0),(F=t.state)!=null&&F.emailEntered?f("",!0):(l(),u("div",kt,[c(b,{class:"!mb-6 !flex !items-center !relative !w-full"},{default:S(()=>[c(m,{ref:"emailInput",modelValue:t.login,"onUpdate:modelValue":e[1]||(e[1]=g=>t.login=g),class:"w-[320px] max-w-[700px] h-[56px] !pl-4",placeholder:"Username or Email",onFocus:t.hideAlert,onKeyup:ce(t.handleEmailSubmit,["enter"])},null,8,["modelValue","onFocus","onKeyup"])]),_:1}),c(n,{label:"Continue",class:"rounded-[10px] max-h-[56px] !py-[18px] !w-full !text-base",loading:((q=t.state)==null?void 0:q.loading)||!1,onClick:t.handleEmailSubmit},null,8,["loading","onClick"])])),(K=t.state)!=null&&K.emailEntered?(l(),u("div",Ct,[(Z=t.state)!=null&&Z.matchedProvider&&!((H=t.state)!=null&&H.showPassword)?(l(),u("div",Ot,[o("h2",Et," Continue with "+v(((_=t.state)==null?void 0:_.providerDisplayName)||((J=t.state)==null?void 0:J.matchedProvider)),1),o("div",{class:ue(["flex border border-[#B8BCBD] w-full p-4 mb-6 rounded-[5px] text-black/50 cursor-pointer hover:bg-gray-50 transition-colors",{"opacity-50 cursor-not-allowed":(W=t.state)==null?void 0:W.loading}]),onClick:e[2]||(e[2]=g=>{var ie;return t.handleOidcLogin((ie=t.state)==null?void 0:ie.matchedProvider)})},[o("img",{src:t.getProviderIcon((Y=t.state)==null?void 0:Y.matchedProvider),class:"mr-6 w-6 h-6"},null,8,Pt),(G=t.state)!=null&&G.loading?(l(),u("span",It,e[11]||(e[11]=[o("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"},null,-1),$(" Connecting... ")]))):(l(),u("span",St,"Continue with "+v(((Q=t.state)==null?void 0:Q.providerDisplayName)||((X=t.state)==null?void 0:X.matchedProvider)),1))],2),o("div",Lt,[o("button",{onClick:e[3]||(e[3]=g=>t.showPassword=!0),class:"text-[#0568FD] hover:underline cursor-pointer"}," Or sign in with password ")])])):f("",!0),(ee=t.state)!=null&&ee.showPassword?(l(),u("div",Dt,[c(b,{class:"!mb-6 !flex !items-center !relative !w-full"},{default:S(()=>[c(m,{value:t.login,disabled:"",class:"w-[320px] max-w-[700px] h-[56px] !pl-4 !bg-gray-100 !text-gray-600",placeholder:"Username or Email"},null,8,["value"])]),_:1}),c(b,{class:"!mb-6 !flex !items-center !relative !w-full"},{default:S(()=>[c(C,{ref:"passwordInput",modelValue:t.password,"onUpdate:modelValue":e[4]||(e[4]=g=>t.password=g),"input-class":"w-full h-[56px]",class:"!w-full max-w-[700px]",placeholder:"Password",toggleMask:"",feedback:!1,onFocus:t.hideAlert,onKeyup:ce(t.handleLogin,["enter"])},null,8,["modelValue","onFocus","onKeyup"])]),_:1}),c(n,{label:"Sign In",class:"rounded-[10px] max-h-[56px] !py-[18px] !w-full !text-base !mb-5",loading:((te=t.state)==null?void 0:te.loading)||!1,onClick:t.handleLogin},null,8,["loading","onClick"]),c(n,{label:"< Back",text:"",class:"!p-3 !w-full !text-base",style:{color:"#3651ED",background:"transparent"},onClick:t.resetToEmail},null,8,["onClick"])])):f("",!0),!((ae=t.state)!=null&&ae.matchedProvider)&&!((re=t.state)!=null&&re.showPassword)&&((se=t.state)!=null&&se.emailEntered)?(l(),u("div",Mt,[e[12]||(e[12]=o("div",{class:"text-red-600 mb-4"}," No authentication method found for this email domain. ",-1)),o("button",{onClick:e[5]||(e[5]=(...g)=>t.resetToEmail&&t.resetToEmail(...g)),class:"text-[#0568FD] hover:underline cursor-pointer"}," Try a different email ")])):f("",!0)])):f("",!0)])):f("",!0),t.isInitialized?f("",!0):(l(),u("div",Tt,e[13]||(e[13]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"},null,-1),o("p",{class:"text-gray-600"},"Initializing...",-1)])))]),e[15]||(e[15]=o("div",{class:"flex gap-2 absolute bottom-8 left-0 right-0 justify-center"},[o("a",{href:"#",class:"text-[#0568FD] border-b-1"}," Terms of use "),o("span",{class:"text-gray-400"}," | "),o("span",{class:"text-[#0568FD] border-b-1"}," Privacy policy ")],-1))]),c(M)])}const Ft=xe(R,[["render",xt]]);export{Ft as default};
//# sourceMappingURL=Login-CSRI5MHm.js.map

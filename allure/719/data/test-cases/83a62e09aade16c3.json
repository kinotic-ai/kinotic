{"uid":"83a62e09aade16c3","name":"testFindByIds()","fullName":"org.kinotic.structures.tests.core.entity.EntityCrudTests.testFindByIds","historyId":"e4bcef8ba398d9599e17f1033085c592","time":{"start":1770518775094,"stop":1770518775113,"duration":19},"description":"","status":"failed","statusMessage":"expectation \"expectNextMatches\" failed (expected: onNext(); actual: onError(java.lang.IllegalStateException: Expected exactly one entity to be returned))","statusTrace":"java.lang.AssertionError: expectation \"expectNextMatches\" failed (expected: onNext(); actual: onError(java.lang.IllegalStateException: Expected exactly one entity to be returned))\n\tat reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)\n\tat reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)\n\tat reactor.test.MessageFormatter.fail(MessageFormatter.java:73)\n\tat reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)\n\tat reactor.test.DefaultStepVerifierBuilder.lambda$expectNextMatches$0(DefaultStepVerifierBuilder.java:561)\n\tat reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2339)\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1554)\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1501)\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1151)\n\tat reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:115)\n\tat reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:67)\n\tat java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)\n\tat java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\n\tat co.elastic.clients.transport.ElasticsearchTransportBase.lambda$performRequestAsync$0(ElasticsearchTransportBase.java:221)\n\tat java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)\n\tat java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\n\tat co.elastic.clients.transport.rest5_client.Rest5ClientHttpClient$1.onSuccess(Rest5ClientHttpClient.java:117)\n\tat co.elastic.clients.transport.rest5_client.low_level.Rest5Client$FailureTrackingResponseListener.onSuccess(Rest5Client.java:723)\n\tat co.elastic.clients.transport.rest5_client.low_level.Rest5Client$1.completed(Rest5Client.java:420)\n\tat co.elastic.clients.transport.rest5_client.low_level.Rest5Client$1.completed(Rest5Client.java:413)\n\tat org.apache.hc.core5.concurrent.BasicFuture.completed(BasicFuture.java:148)\n\tat org.apache.hc.core5.concurrent.ComplexFuture.completed(ComplexFuture.java:72)\n\tat org.apache.hc.client5.http.impl.async.InternalAbstractHttpAsyncClient$2$1.completed(InternalAbstractHttpAsyncClient.java:321)\n\tat org.apache.hc.core5.http.nio.support.AbstractAsyncResponseConsumer$1.completed(AbstractAsyncResponseConsumer.java:101)\n\tat org.apache.hc.core5.http.nio.entity.AbstractBinAsyncEntityConsumer.completed(AbstractBinAsyncEntityConsumer.java:87)\n\tat org.apache.hc.core5.http.nio.entity.AbstractBinDataConsumer.streamEnd(AbstractBinDataConsumer.java:83)\n\tat org.apache.hc.core5.http.nio.support.AbstractAsyncResponseConsumer.streamEnd(AbstractAsyncResponseConsumer.java:142)\n\tat co.elastic.clients.transport.rest5_client.SafeResponseConsumer.streamEnd(SafeResponseConsumer.java:125)\n\tat org.apache.hc.client5.http.impl.async.HttpAsyncMainClientExec$1.streamEnd(HttpAsyncMainClientExec.java:283)\n\tat org.apache.hc.core5.http.impl.nio.ClientHttp1StreamHandler.dataEnd(ClientHttp1StreamHandler.java:285)\n\tat org.apache.hc.core5.http.impl.nio.ClientHttp1StreamDuplexer.dataEnd(ClientHttp1StreamDuplexer.java:371)\n\tat org.apache.hc.core5.http.impl.nio.AbstractHttp1StreamDuplexer.onInput(AbstractHttp1StreamDuplexer.java:340)\n\tat org.apache.hc.core5.http.impl.nio.AbstractHttp1IOEventHandler.inputReady(AbstractHttp1IOEventHandler.java:64)\n\tat org.apache.hc.core5.http.impl.nio.ClientHttp1IOEventHandler.inputReady(ClientHttp1IOEventHandler.java:41)\n\tat org.apache.hc.core5.reactor.InternalDataChannel.onIOEvent(InternalDataChannel.java:139)\n\tat org.apache.hc.core5.reactor.InternalChannel.handleIOEvent(InternalChannel.java:51)\n\tat org.apache.hc.core5.reactor.SingleCoreIOReactor.processEvents(SingleCoreIOReactor.java:176)\n\tat org.apache.hc.core5.reactor.SingleCoreIOReactor.doExecute(SingleCoreIOReactor.java:125)\n\tat org.apache.hc.core5.reactor.AbstractSingleCoreIOReactor.execute(AbstractSingleCoreIOReactor.java:92)\n\tat org.apache.hc.core5.reactor.IOReactorWorker.run(IOReactorWorker.java:44)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n\tSuppressed: java.lang.IllegalStateException: Expected exactly one entity to be returned\n\t\tat org.kinotic.structures.internal.api.hooks.impl.AbstractJsonUpsertPreProcessor.lambda$process$0(AbstractJsonUpsertPreProcessor.java:59)\n\t\tat java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:684)\n\t\tat java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:662)\n\t\tat java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2200)\n\t\tat org.kinotic.structures.internal.api.hooks.impl.AbstractJsonUpsertPreProcessor.process(AbstractJsonUpsertPreProcessor.java:57)\n\t\tat org.kinotic.structures.internal.api.hooks.impl.TokenBufferUpsertPreProcessor.process(TokenBufferUpsertPreProcessor.java:39)\n\t\tat org.kinotic.structures.internal.api.hooks.DelegatingUpsertPreProcessor.process(DelegatingUpsertPreProcessor.java:58)\n\t\tat org.kinotic.structures.internal.api.services.impl.DefaultEntityService.lambda$doPersist$87(DefaultEntityService.java:657)\n\t\tat java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)\n\t\tat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)\n\t\tat org.kinotic.structures.internal.api.services.impl.DefaultEntityService.doPersist(DefaultEntityService.java:657)\n\t\tat org.kinotic.structures.internal.api.services.impl.DefaultEntityService.save(DefaultEntityService.java:319)\n\t\tat org.kinotic.structures.internal.api.services.impl.DefaultEntitiesService.lambda$save$15(DefaultEntitiesService.java:207)\n\t\tat java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)\n\t\tat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)\n\t\tat org.kinotic.structures.internal.api.services.impl.DefaultEntitiesService.save(DefaultEntitiesService.java:207)\n\t\tat org.kinotic.structures.tests.core.support.TestHelper.lambda$createPersonStructureAndEntities$5(TestHelper.java:145)\n\t\tat java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)\n\t\tat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)\n\t\tat org.kinotic.structures.tests.core.support.TestHelper.lambda$createPersonStructureAndEntities$6(TestHelper.java:139)\n\t\tat java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\n\t\t... 32 more\n","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"parentSuite","value":"Structures Core"},{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:org.kinotic.structures.tests.core.entity.EntityCrudTests]/[method:testFindByIds()]"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"3341@runnervmwffz4.Test worker(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"org.kinotic.structures.tests.core.entity.EntityCrudTests"},{"name":"testClass","value":"org.kinotic.structures.tests.core.entity.EntityCrudTests"},{"name":"testMethod","value":"testFindByIds"},{"name":"suite","value":"org.kinotic.structures.tests.core.entity.EntityCrudTests"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":2,"skipped":0,"passed":4,"unknown":0,"total":9},"items":[{"uid":"4114cc98c2358afa","reportUrl":"https://kinotic-ai.github.io/kinotic/allure/716/#testresult/4114cc98c2358afa","status":"passed","time":{"start":1770514776926,"stop":1770514777033,"duration":107}},{"uid":"34d1770779377ad8","reportUrl":"https://kinotic-ai.github.io/kinotic/allure/717/#testresult/34d1770779377ad8","status":"failed","statusDetails":"expectation \"expectNextMatches\" failed (expected: onNext(); actual: onError(java.lang.IllegalStateException: Expected exactly one entity to be returned))","time":{"start":1770514940976,"stop":1770514941002,"duration":26}},{"uid":"1db5d01705a33a42","reportUrl":"https://kinotic-ai.github.io/kinotic/allure/715/#testresult/1db5d01705a33a42","status":"failed","statusDetails":"expectation \"expectNextMatches\" failed (expected: onNext(); actual: onError(java.lang.IllegalStateException: Expected exactly one entity to be returned))","time":{"start":1770371017428,"stop":1770371017461,"duration":33}},{"uid":"411a3eee5e61925c","reportUrl":"https://kinotic-ai.github.io/kinotic/allure/713/#testresult/411a3eee5e61925c","status":"passed","time":{"start":1770368575074,"stop":1770368575175,"duration":101}},{"uid":"9c2948e440d7e1bb","reportUrl":"https://kinotic-ai.github.io/kinotic/allure/714/#testresult/9c2948e440d7e1bb","status":"broken","statusDetails":"Failed to initialize system migrations","time":{"start":1770370171272,"stop":1770370171287,"duration":15}},{"uid":"a0e667e2704da6c4","reportUrl":"https://kinotic-ai.github.io/kinotic/allure/712/#testresult/a0e667e2704da6c4","status":"passed","time":{"start":1770366522862,"stop":1770366522981,"duration":119}},{"uid":"6f96f7fb9de1ff51","reportUrl":"https://kinotic-ai.github.io/kinotic/allure/711/#testresult/6f96f7fb9de1ff51","status":"passed","time":{"start":1770364394580,"stop":1770364394746,"duration":166}},{"uid":"31427a2d4e2853ec","reportUrl":"https://kinotic-ai.github.io/kinotic/allure/710/#testresult/31427a2d4e2853ec","status":"broken","statusDetails":"ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@605058c5 testClass = org.kinotic.structures.tests.core.entity.EntityCrudTests, locations = [], classes = [org.kinotic.structures.StructuresTestApplication], contextInitializerClasses = [org.kinotic.structures.support.elastic.ElasticsearchTestContextInitializer], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@373e6b9d, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@65514add, [ImportsContextCustomizer@7006b473 key = [org.kinotic.structures.internal.config.StructuresConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@51e754e1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@667dcaad, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3aed69dd, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@16134476, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@64aeaf29, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@c72c9a44], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]","time":{"start":1770287459665,"stop":1770287459666,"duration":1}}]},"tags":[]},"source":"83a62e09aade16c3.json","parameterValues":[]}
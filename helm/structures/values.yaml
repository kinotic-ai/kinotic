replicaCount: 1
nameOverride: ""

image:
  repository: kinotic/structures-server
  pullPolicy: Always
  tag: "1.14.0-SNAPSHOT"
  sha: ""

properties:
  springActiveProfiles: "production"
  corsAllowedOriginPattern: "*"
  enableJmx: true
  enableNmt: true
  javaToolOptions: "-Djava.net.preferIPv4Stack=true -XX:MaxDirectMemorySize=512m" ## -javaagent:/workspace/BOOT-INF/classes/opentelemetry-javaagent.jar 

  bplJvmHeadRoom: 10
  structures:
    tenantIdFieldName: "tenantId"
    indexPrefix: "struct_"
    openApiSecurityType: "BASIC"
    openApiPort: 8080
    openApiPath: "/api/"
    openApiServerUrl: "http://127.0.0.1:8080"
    graphqlPort: 4000
    graphqlPath: "/graphql/"
    webServerPort: 9090
    healthCheckPath: "/health"
    enableStaticFileServer: true
    initializeWithSampleData: false
    elastic:
      connections:
        - host: "minds-test-elasticsearch.es.centralus.azure.elastic-cloud.com"
          port: 443
          scheme: "https"
      connectionTimeout: "1M"
      socketTimeout: "1M"
      username: "structures"
      password: "asdfsda898u7fsad8sfa@sdfa"
    ai:
      apiKey: "noop"
      baseUrl: "https://api.x.ai"
      model: "grok-4"

continuum_gateway:
  stomp:
    port: 58503
    websocketPath: /v1

continuum:
  debug: true
  disableClustering: false
  maxNumberOfCoresToUse: 4
  maxOffHeapMemory: "419430400"
  cluster:
    discoveryType: LOCAL ## SHAREDFS or KUBERNETES
    joinTimeoutMs: 0
    # Test instance local address: bind to 0.0.0.0 (all interfaces) so containers can reach it
    # Containers connect via host.docker.internal:47500
    localAddress: 0.0.0.0
    # Test instance ports (must be unique from container nodes)
    discoveryPort: 47500      
    communicationPort: 47100 
    # Static IP addresses for all nodes in the cluster
    # Format: host:port,host:port,...
    localAddresses: null
    # Note: sharedFsPath is still used for Structure data sharing, not for Ignite discovery
    sharedFsPath: /sharedfs  # Shared with containers via bind mount
    kubernetesNamespace: default
    kubernetesServiceName: structures
    kubernetesIncludeNotReadyAddresses: false
    kubernetesMasterUrl: ""
    kubernetesAccountToken: ""


nodeSelector: {}

# Ingress configuration
ingress:
  enabled: false
  className: nginx
  annotations: {}
  hosts:
    - host: localhost
      paths:
        - path: /
          pathType: Prefix
  tls: []
